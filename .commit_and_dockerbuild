
if [ -z "$1" ]; then
    echo "‚ùå Error: Please provide a commit message."
    echo "Usage: $0 \"your commit message\""
    exit 1
fi

COMMIT_MSG="$1"

DOCKER_BUILDKIT=1 docker build -t iama ./model/

git add .

if ! git diff --cached --quiet; then

    git commit -m "$COMMIT_MSG"
    echo "Committed: $COMMIT_MSG"
    git push origin main
    echo "Pushed"
else

    echo "Nothing to commit."
fi
